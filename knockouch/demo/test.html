<!DOCTYPE html>
<html>
<head>
    <title>Hammer.js</title>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <style>

        h1 {
            margin: 30px;
            text-align: center;
        }

        .drag {
            position: absolute;
            left: 100px;
            top: 100px;
            background: #9fe1e7;
            border-radius: 50px;
            width: 100px;
            height: 100px;
        }

        .drag1 { background: #42d692; }
        .drag2 { background: #4986e7; }
        .drag3 { background: #d06b64; }
        .drag4 { background: #cd74e6; }
        .drag5 { background: #9fe1e7; }

    </style>
</head>

<body>

<h1>Drag the balls!</h1>

<div class="drag drag1"></div>
<div class="drag drag2"></div>
<div class="drag drag3"></div>
<div class="drag drag4"></div>
<div class="drag drag5"></div>


<!-- jQuery is just for the demo! Hammer.js works without jQuery :-) -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script src="../libs/hammer.js"></script>
    <script>
        (function ($, undefined) {
            'use strict';

            // no jQuery or Zepto!
            if ($ === undefined) {
                return;
            }

            /**
             * bind dom events
             * this overwrites addEventListener
             * @param   {HTMLElement}   element
             * @param   {String}        eventTypes
             * @param   {Function}      handler
             */
            Hammer.event.bindDom = function (element, eventTypes, handler) {
                $(element).on(eventTypes, function (ev) {
                    var data = ev.originalEvent || ev;

                    // IE pageX fix
                    if (data.pageX === undefined) {
                        data.pageX = ev.pageX;
                        data.pageY = ev.pageY;
                    }

                    // IE target fix
                    if (!data.target) {
                        data.target = ev.target;
                    }

                    // IE button fix
                    if (data.which === undefined) {
                        data.which = data.button;
                    }

                    // IE preventDefault
                    if (!data.preventDefault) {
                        data.preventDefault = ev.preventDefault;
                    }

                    // IE stopPropagation
                    if (!data.stopPropagation) {
                        data.stopPropagation = ev.stopPropagation;
                    }

                    handler.call(this, data);
                });
            };

            /**
             * the methods are called by the instance, but with the jquery plugin
             * we use the jquery event methods instead.
             * @this    {Hammer.Instance}
             * @return  {jQuery}
             */
            Hammer.Instance.prototype.on = function (types, handler) {
                return $(this.element).on(types, handler);
            };
            Hammer.Instance.prototype.off = function (types, handler) {
                return $(this.element).off(types, handler);
            };


            /**
             * trigger events
             * this is called by the gestures to trigger an event like 'tap'
             * @this    {Hammer.Instance}
             * @param   {String}    gesture
             * @param   {Object}    eventData
             * @return  {jQuery}
             */
            Hammer.Instance.prototype.trigger = function (gesture, eventData) {
                var el = $(this.element);
                if (el.has(eventData.target).length) {
                    el = $(eventData.target);
                }

                return el.trigger({
                    type: gesture,
                    gesture: eventData
                });
            };


            /**
             * jQuery plugin
             * create instance of Hammer and watch for gestures,
             * and when called again you can change the options
             * @param   {Object}    [options={}]
             * @return  {jQuery}
             */
            $.fn.hammer = function (options) {
                return this.each(function () {
                    var el = $(this);
                    var inst = el.data('hammer');
                    // start new hammer instance
                    if (!inst) {
                        el.data('hammer', new Hammer(this, options || {}));
                    }
                        // change the options
                    else if (inst && options) {
                        Hammer.utils.extend(inst.options, options);
                    }
                });
            };

        })(window.jQuery || window.Zepto);
    </script>

<script>

    $(".drag")
        .hammer({ drag_max_touches: 0 })
        .on("touch drag", function (ev) {
            var touches = ev.gesture.touches;

            ev.gesture.preventDefault();

            for (var t = 0, len = touches.length; t < len; t++) {
                var target = $(touches[t].target);
                target.css({
                    zIndex: 1337,
                    left: touches[t].pageX - 50,
                    top: touches[t].pageY - 50
                });
            }
        });


</script>
</body>
</html>